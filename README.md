# Spring-Microservices-In-Action with Docker
책을 따라하는 것보다. 내 것으로 만드는게 더 중요하다.
※ 참고도서 : 스프링 마이크로서비스 공작소 (존 카넬/ 정성권/ 길벗/ 2018)

이클립스 임포트 방법
1. 일단 URL복사
2. 임포트 > git URL > existing project > 폴더 1개로 임포트된것 확인
3. 다시 임포트 > workspace director import > 1개 폴더로 임포트된 경로 디렉토리 선택
4. 하위프로젝트 나열된 것 확인 후 임포트
5. 처음 폴더 1개로 임포트된것 삭제 (실제 삭제 아님!)

# 프로젝트 생성 이유
8장 이후부터 실행을 확인하기 위해서 기존 로컬에서 msa를 실행 한 것과 달리 docker를 통해 실행하는 것으로 방향을
전환 하였다. 8장에 책에서 제시된 kafka와 redis, 그리고 zookeeper의 실행의 기본 조건을 따르기 위함이었다.
따라서 이전처럼 STS를 통해 로컬에서 실행은 불가능하고 프로젝트 실행을 확인 하기 위해서는 Docker를 통해 실행하여야 한다.

# 책과 다른점
1. 책에서 license / organization 서비스가 여기서 harang / concept 서비스로 변경되었다.
2. 책에서는 1개의 database를 사용하였으나 여기서 2개의 데이터 베이스(postgreSql, mariaDB) 사용하였다.
3. 서비스별로 사용하는 데이터 베이스가 분리되었다. harang(mariaDB), concept(postgreSql)
  3-1 (추가) 책에서 제공한 docker-compse에서는 해당 테이블의 스키마의 volume이 설정되어있지 않았다. DB 볼륨을 추가했다. 
      컨테이너를 내려도 데이터가 상실하지 않는다. 사전 작업으로 docker에 로컬 볼륨을 추가하는 작업을 설정해야 한다.
4. JPA를 사용하는 책과는 달리 여기선 Mybatis를 사용하여 데이터를 호출한다.
5. DTO/VO 를 통해 데이터 객체를 따로 구현한 책과는 달리 여기선 오로지 Map/HashMap을 기준으로 데이터 객체를 구현하였다.
6. 이벤트 챕터와 시큐리티 챕터 별로 프로젝트가 분리된 것과 달리 여기선 같이 구현하였다. 
(현재 같이 실행하면 충돌난다. 7장의 시큐리티를 확인하고 싶다면 추가 작업이 있어야 한다. 추후 관련 내용 추가)
7. 레디스 파트에서 책에서 제시된 설정은 스프링 부트 2 버전 전의 이야기다(deprecated). 최신버전에 맞게 적용 처리 하였다.

# 책에서 언급되지 않아 추가로 작업을 진행 해야 했던 점 - 삽질로그
1. docker-compose.yml에 대해 설명이 부족해서 찾아가서 공부 해야 했다. docker에 대해 추가적으로 공부를 진행 해야 한다.
2. dockerfile에 대해 설명이 없었고, 그외 docker-compose로 컨테이서 실행시 각 컨테이너 마다 내제되어 있던 run.sh 쉘 스크립트 파일의
존재를 인지 하지 못해 실행에 대한 삽질을 지속 해야 했다.

# 프로젝트를 진행하면서 추가로 배우게 된 것들
1. Docker (이게 재일 크다.) -> 사용한 docker는 윈도우 버전 docker다
2. Shell
3. Linux -> 각각의 컨테이너의 내부를 확인하기 위해서는 리눅스 명령어를 알아야 했다.

# 추후 추가로 진행해야 할 것들
1. 7장과 8장이 같이 융합되어야 한다.
2. 로그인을 검증정보 DB를 따로 만들야 될것 같다. Mysqgl? MongoDb?
3. 현재 MSA 환경에 파이썬을 끼얺어 봐야 할것 같다.
4. 9장 분산 로그 환경 구성
5. 10장 AWS 배포 까지.


